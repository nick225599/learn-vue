<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>v-cloak</title>

    <script type="text/javascript" src="../js/dayjs.min.js"></script>
    <style>
        [v-cloak] {
            display: none;
        }
    </style>
</head>

<body>
    <div id="root" >
        <span>{{new Date()}}</span>
        <h3 v-cloak>str: {{getStr()}}</h3>


        <script type="text/javascript" src="../js/vue.js"></script>
    </div>
    <script type="application/javascript">
        const vm = new Vue({
            el: "#root",
            data: {
                str: "Hello, Vue2!",
            },
            methods: {
                getStr() {
                    let i = 1;
                    for (let j = 1; j < 400; j++) {
                        i = i + j;
                        this.myFunc();
                    }
                    console.log("i: " + i)
                    return this.str;
                },
                // 模拟耗时操作，大概10ms
                myFunc() {
                    let startTime = Date.now();
                    while (Date.now() - startTime < 10) {

                    }
                }
            },
        })
    </script>
</body>

</html>